{"version":3,"file":"static/js/667.0c19e5bb.chunk.js","mappings":"4PAwDA,UAjDmB,WACjB,OAA8BA,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOK,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAYF,EAAaG,IAAI,cAEnCC,EAAAA,EAAAA,YAAU,WACR,GAAkB,KAAdF,GAAkC,OAAdA,EAAxB,CAIA,IAAMG,EAAmB,mCAAG,oGAExBX,GAAW,GAFa,UAGLY,EAAAA,EAAAA,IAAaJ,GAHR,OAGlBK,EAHkB,OAIxBT,GAAU,OAAIS,EAAKC,UAJK,gDAMxBZ,EAAS,KAAMa,SANS,yBAQxBf,GAAW,GARa,4EAAH,qDAWzBW,GAbC,CAcF,GAAE,CAACH,IASJ,OACE,iCACE,yCACA,kBAAMQ,SAVW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACfb,EAAgB,CAAEc,UAAWF,EAAKG,SAASD,UAAUE,QACrDJ,EAAKK,OACN,EAKG,WACE,kBAAOC,KAAK,OAAOC,KAAK,eACxB,mBAAQD,KAAK,SAAb,uBAED1B,IAAW,SAAC,IAAD,IACXE,IAAS,wBAAKA,KACf,SAAC,IAAD,CAAY0B,MAAOxB,KACnB,SAAC,KAAD,MAGL,C,oFCrDD,EAA6B,+BAA7B,EAAmE,yBAAnE,EAAmG,yB,SCK7FyB,EAAa,SAAC,GAAe,IAAbD,EAAY,EAAZA,MACdE,GAAWC,EAAAA,EAAAA,MAEXR,EAAWK,EAAMI,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OACzB,SAAC,KAAD,CACEC,UAAWC,EAEXC,GAAE,iBAAYJ,GACdK,MAAO,CAAEC,KAAMT,GAJjB,UAME,yBACE,cAAGK,UAAWC,EAAd,SAA4BF,OALzBD,EAHkB,IAa3B,OACE,+BACE,eAAIE,UAAWC,EAAf,SAAmCb,KAGxC,EAED,GAAeiB,EAAAA,EAAAA,MAAKX,GAEpBA,EAAWY,aAAe,CACxBb,MAAO,G,sLC9BHc,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,gCACTC,OAAQ,CACNC,QAAS,sCAIAjC,EAAY,mCAAG,WAAMkC,GAAN,yFACHL,EAAShC,IAAI,eAAgB,CAClDmC,OAAQ,CACNE,MAAAA,KAHsB,uBAClBjC,EADkB,EAClBA,KADkB,kBAMnBA,GANmB,2CAAH,sDASZkC,EAAc,mCAAG,sGACLN,EAAShC,IAAI,sBADR,uBACpBI,EADoB,EACpBA,KADoB,kBAErBA,GAFqB,2CAAH,qDAKdmC,EAAY,mCAAG,WAAMhB,GAAN,yFACHS,EAAShC,IAAT,gBAAsBuB,IADnB,uBAClBnB,EADkB,EAClBA,KADkB,kBAEnBA,GAFmB,2CAAH,sDAKZoC,EAAU,mCAAG,WAAMjB,GAAN,yFACDS,EAAShC,IAAT,iBAAuBuB,EAAvB,aADC,uBAChBnB,EADgB,EAChBA,KADgB,kBAEjBA,GAFiB,2CAAH,sDAKVqC,EAAU,mCAAG,WAAMlB,GAAN,yFACDS,EAAShC,IAAT,iBAAuBuB,EAAvB,aADC,uBAChBnB,EADgB,EAChBA,KADgB,kBAEjBA,GAFiB,2CAAH,qD","sources":["pages/MoviesPage/MoviesPage.jsx","webpack://react-homework-template/./src/shared/components/MoviesList/moviesList.module.css?6926","shared/components/MoviesList/MoviesList.jsx","shared/services/movies-api.js"],"sourcesContent":["import { searchMovies } from 'shared/services/movies-api';\nimport { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport Loader from 'shared/components/Loader/Loader';\nimport MoviesList from 'shared/components/MoviesList/MoviesList';\n\nconst MoviesPage = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const movieName = searchParams.get('moviename');\n\n  useEffect(() => {\n    if (movieName === '' || movieName === null) {\n      return;\n    }\n\n    const fetchMoviesOnSearch = async () => {\n      try {\n        setLoading(true);\n        const data = await searchMovies(movieName);\n        setMovies([...data.results]);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMoviesOnSearch();\n  }, [movieName]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ moviename: form.elements.moviename.value });\n    form.reset();\n  };\n\n  return (\n    <>\n      <h2>Find movie:</h2>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"moviename\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      {loading && <Loader />}\n      {error && <h2>{error}</h2>}\n      <MoviesList items={movies} />\n      <Outlet />\n    </>\n  );\n};\n\nexport default MoviesPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"moviesList_moviesList__CGC-e\",\"item\":\"moviesList_item__4fx80\",\"link\":\"moviesList_link__3hWfy\"};","import { memo } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './moviesList.module.css';\n\nconst MoviesList = ({ items }) => {\n  const location = useLocation();\n\n  const elements = items.map(({ id, original_title }) => (\n    <Link\n      className={styles.item}\n      key={id}\n      to={`/movie/${id}`}\n      state={{ from: location }}\n    >\n      <li>\n        <p className={styles.link}>{original_title}</p>\n      </li>\n    </Link>\n  ));\n\n  return (\n    <>\n      <ul className={styles.moviesList}>{elements}</ul>\n    </>\n  );\n};\n\nexport default memo(MoviesList);\n\nMoviesList.defaultProps = {\n  items: [],\n};\n\nMoviesList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      original_title: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: '6c7c9c59ab66a934cce9eb83e4c9fd9b',\n  },\n});\n\nexport const searchMovies = async query => {\n  const { data } = await instance.get('search/movie', {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMostPopular = async () => {\n  const { data } = await instance.get('trending/movie/day');\n  return data;\n};\n\nexport const getMovieById = async id => {\n  const { data } = await instance.get(`movie/${id}`);\n  return data;\n};\n\nexport const getCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n"],"names":["useState","loading","setLoading","error","setError","movies","setMovies","useSearchParams","searchParams","setSearchParams","movieName","get","useEffect","fetchMoviesOnSearch","searchMovies","data","results","message","onSubmit","e","preventDefault","form","currentTarget","moviename","elements","value","reset","type","name","items","MoviesList","location","useLocation","map","id","original_title","className","styles","to","state","from","memo","defaultProps","instance","axios","baseURL","params","api_key","query","getMostPopular","getMovieById","getCredits","getReviews"],"sourceRoot":""}